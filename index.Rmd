---
title: "S Q L"
output: html_document
---

## Filtering Rows and Columns

With SQL you can filter Columns and Rows with WHERE. Let's look at an example using the Lahman baseball database. First, we need to load some packages. 

```{r warning=FALSE, message=FALSE}
library(Lahman)
library(sqldf)
```

##A General Lay Out

Suppose we want to see the homerun totals for the 1927 Yankees. We could write the following:

```{r}
query<-"SELECT playerID,yearID,teamID,HR FROM Batting 
WHERE teamID='NYA'  and yearID=1927"
sqldf(query)
```

##Setting Limits and Data Layout

Suppose you want to find all instances where Yankees have hit 40 homeruns or more.

```{r}
query<-"SELECT playerID,yearID,teamID,HR FROM Batting
WHERE HR>39"
sqldf(query)
```

##Setting Right and Left Limits To Data Set

Suppose we want to now find all examples where a player had more than 40 homeruns but less than 60 strikeouts.

```{r}
query<-"SELECT playerID,yearID,teamID,HR,SO FROM Batting
WHERE HR>39 and SO<60"
sqldf(query)
```

##Setting A Starting Limit, With Ordering By

Again, you want to find all instances of a player striking out less than 10 times. At least 400 at-bats (AB) players with least strikeouts at the top.

```{r}
query<-"SELECT playerID,yearID,teamID,SO,AB FROM Batting
WHERE AB>399 and SO<10"
sqldf(query)
```

##Ordering By, Different Scenario

Finding every instance of a player hitting more than 50 homeruns but lets have the players with the most homeruns at the top.

```{r}
query<-"SELECT playerID,yearID,teamID,HR FROM Batting
WHERE HR>50
ORDER BY HR DESC"
sqldf(query)
```

